---
title: "High-Dimensional Metrics"
author: "Victor Chernozhukov, Christian Hansen, Martin Spindler"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{High-Dimensional Metrics}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


# Overview

function | methods                              | interface                     
---------|--------------------------------------|-------------------------------
rlasso   | summary, print, predict, model.matrix| default and formula interface 
rlogisticlasso |  summary, print, predict, model.matrix | default and forumla interface 
rlassoEffect | print, summary, confint, plot | default interface 
rlassologitEffect | print, summary, confint| default  interface 
rlassoIVselectX | print, summary, confint | default interface
rlassoIVselectZ | print, summary, confint | default interface
rlassoIV | print, summary, confint | default interface
rlassoATE, rlassoLATE, rlassoATET, rlassoLATET | print, summary, confint |default

# Example
```{r echo=FALSE}
library(hdm)
```

## rlasso

Generating data:
```{r}
set.seed(2)
n <- 100
p <- 20
px <- 5
X <- matrix(rnorm(n*p), ncol=p)
Xnew <- matrix(rnorm(n*p), ncol=p)
beta <- c(rep(2,px), rep(0,p-px))
y <- X %*% beta + rnorm(n)
```

rlasso

```{r}
l1 <- rlasso(X,y, intercept=TRUE, normalize=TRUE, post=TRUE ) # default interface
l2 <- rlasso(y~X) # formula interface
```

methods for rlasso

```{r}
print(l1)
summary(l1, all=FALSE) # show only coefficient which are not zero
head(predict(l1))
head(predict(l1, newdata=Xnew))
```


## rlogisticlasso
Generating data:
```{r}
set.seed(2)
n <- 100
p <- 20
px <- 5
X <- matrix(rnorm(n*p), ncol=p)
Xnew <- matrix(rnorm(n*p), ncol=p)
beta <- c(rep(2,px), rep(0,p-px))
ystar <-  X %*% beta + rnorm(n)
y <- as.integer(ystar >=0)
```

rrlassologit

```{r}
l3 <- rlassologit(X,y, intercept=TRUE, normalize=TRUE, post=TRUE ) # default interface
l4 <- rlassologit(y~X) # formula interface
```

methods for rlassologit

```{r}
print(l3)
summary(l3, all=FALSE)
head(predict(l3))
head(predict(l3, newdata=Xnew))
```

## rlassoEffect

Generating data:
```{r}
set.seed(2)
n <- 100
p <- 20
px <- 5
X <- matrix(rnorm(n*p), ncol=p)
Xnew <- matrix(rnorm(n*p), ncol=p)
beta <- c(rep(2,px), rep(0,p-px))
y <- X %*% beta + rnorm(n)
```

rlassoEffect

```{r}
rEffect <- rlassoEffect(X,y, index=c(1,2,9)) # I: selection of variables for inference
```

methods
```{r}
print(rEffect)
summary(rEffect)
confint(rEffect)
```

```{r fig.width=5}
plot(rEffect, main="Effects of Selected Variables")
```







